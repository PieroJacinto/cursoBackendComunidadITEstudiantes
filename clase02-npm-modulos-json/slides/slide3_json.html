<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabajar con JSON - Clase 2 Backend</title>
    <link rel="stylesheet" href="./slide3_json.css">
</head>
<body>
    <div class="progress-bar" id="progress-bar"></div>
    
    <div class="slideshow-container">
        
        <!-- Slide 1: Portada -->
        <div class="slide active">
            <span class="emoji">üìÑ</span>
            <h1>TRABAJAR CON JSON</h1>
            <h2>Datos Estructurados</h2>
            <p><span class="highlight">¬°La base de datos temporal de tu API!</span></p>
            <p>JSON.parse(), JSON.stringify(), Archivos de datos</p>
            <p>üéØ <span class="highlight">35 minutos para dominar JSON</span></p>
            
            <div class="concept-box">
                <h3>¬øPor qu√© JSON es esencial en Backend?</h3>
                <ul>
                    <li>üìä <strong>Datos estructurados:</strong> posts, men√∫, productos, cursos</li>
                    <li>üíæ <strong>"Base de datos" temporal:</strong> antes de MySQL</li>
                    <li>üîÑ <strong>APIs REST:</strong> todo se env√≠a en JSON</li>
                    <li>‚öôÔ∏è <strong>Configuraci√≥n:</strong> package.json tambi√©n es JSON</li>
                </ul>
            </div>
        </div>

        <!-- Slide 2: ¬øQu√© es JSON? -->
        <div class="slide">
            <h2>üìä ¬øQu√© es JSON?</h2>
            
            <div class="two-columns">
                <div>
                    <h3>JSON = JavaScript Object Notation</h3>
                    <div class="concept-box">
                        <p><strong>Es un formato para guardar datos estructurados</strong></p>
                        <p>Como los objetos de JavaScript, pero en texto</p>
                    </div>
                    
                    <div class="code">// Objeto JavaScript normal:
const usuario = {
    nombre: "Ana",
    edad: 25,
    activo: true
};

// El MISMO objeto en formato JSON:
{
    "nombre": "Ana",
    "edad": 25,
    "activo": true
}</div>
                    
                    <div class="success">
                        <strong>‚úÖ Diferencias principales:</strong>
                        <ul>
                            <li>Las <strong>claves van con comillas</strong>: "nombre"</li>
                            <li>Es <strong>texto puro</strong>, no c√≥digo JavaScript</li>
                            <li>Se puede <strong>guardar en archivos</strong></li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3>¬øPara qu√© lo usamos?</h3>
                    
                    <div class="json-examples">
                        <div class="json-example">
                            <strong>üìù Blog:</strong>
                            <div class="code">// posts.json
[
    {
        "id": 1,
        "titulo": "Mi primer post",
        "contenido": "Hola mundo!",
        "fecha": "2025-07-19"
    }
]</div>
                        </div>
                        
                        <div class="json-example">
                            <strong>üçΩÔ∏è Restaurante:</strong>
                            <div class="code">// menu.json
[
    {
        "id": 1,
        "nombre": "Pizza Margherita",
        "precio": 1200,
        "categoria": "principales"
    }
]</div>
                        </div>
                        
                        <div class="json-example">
                            <strong>üõçÔ∏è E-commerce:</strong>
                            <div class="code">// productos.json
[
    {
        "id": 1,
        "nombre": "Auriculares",
        "precio": 5000,
        "stock": 10
    }
]</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: JSON.parse() -->
        <div class="slide demo-slide">
            <h2>üìñ JSON.parse() - De texto a objeto</h2>
            
            <div class="demo-container">
                <h3>Convertir texto JSON a objeto JavaScript</h3>
                
                <div class="demo-step">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <h4>Tenemos texto JSON (como string)</h4>
                        <div class="code">// Texto JSON como string
const textoJSON = `{
    "nombre": "Mar√≠a",
    "edad": 30,
    "cursos": ["Node.js", "React"]
}`;

console.log('üìù Tipo:', typeof textoJSON);  // "string"
console.log('üìù Contenido:', textoJSON);</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <h4>Usar JSON.parse() para convertir</h4>
                        <div class="code">// Convertir de texto a objeto
const objeto = JSON.parse(textoJSON);

console.log('üìä Tipo:', typeof objeto);     // "object"
console.log('üìä Nombre:', objeto.nombre);   // "Mar√≠a"
console.log('üìä Edad:', objeto.edad);       // 30
console.log('üìä Cursos:', objeto.cursos);   // ["Node.js", "React"]</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <h4>Ahora podemos usar el objeto normalmente</h4>
                        <div class="code">// Trabajar con el objeto
objeto.edad = 31;
objeto.cursos.push("Express");

console.log('‚úÖ Edad actualizada:', objeto.edad);      // 31
console.log('‚úÖ Cursos actualizados:', objeto.cursos); // ["Node.js", "React", "Express"]</div>
                    </div>
                </div>
                
                <div class="success">
                    <strong>üéØ JSON.parse():</strong> texto JSON ‚Üí objeto JavaScript
                </div>
            </div>
        </div>

        <!-- Slide 4: JSON.stringify() -->
        <div class="slide demo-slide">
            <h2>üíæ JSON.stringify() - De objeto a texto</h2>
            
            <div class="demo-container">
                <h3>Convertir objeto JavaScript a texto JSON</h3>
                
                <div class="demo-step">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <h4>Tenemos un objeto JavaScript</h4>
                        <div class="code">// Objeto JavaScript normal
const producto = {
    nombre: "Laptop",
    precio: 50000,
    disponible: true,
    categorias: ["tecnolog√≠a", "computadoras"]
};

console.log('üìä Tipo:', typeof producto);  // "object"</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <h4>Usar JSON.stringify() para convertir</h4>
                        <div class="code">// Convertir de objeto a texto JSON
const textoJSON = JSON.stringify(producto);

console.log('üìù Tipo:', typeof textoJSON);  // "string"
console.log('üìù Contenido:', textoJSON);
// {"nombre":"Laptop","precio":50000,"disponible":true,"categorias":["tecnolog√≠a","computadoras"]}</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <h4>JSON.stringify() con formato bonito</h4>
                        <div class="code">// Con formato legible (para archivos)
const textoFormateado = JSON.stringify(producto, null, 2);

console.log('‚ú® JSON formateado:');
console.log(textoFormateado);
/*
{
  "nombre": "Laptop",
  "precio": 50000,
  "disponible": true,
  "categorias": [
    "tecnolog√≠a",
    "computadoras"
  ]
}
*/</div>
                    </div>
                </div>
                
                <div class="success">
                    <strong>üéØ JSON.stringify():</strong> objeto JavaScript ‚Üí texto JSON
                </div>
            </div>
        </div>

        <!-- Slide 5: Demo archivos JSON -->
        <div class="slide demo-slide">
            <h2>üìÅ DEMO: Archivos JSON</h2>
            
            <div class="demo-container">
                <h3>Leer y escribir archivos JSON</h3>
                
                <div class="demo-step">
                    <span class="step-number">1</span>
                    <div class="step-content">
                        <h4>Escribir archivo JSON</h4>
                        <div class="code">// crear-datos.js
const fs = require('fs');

// Datos JavaScript
const posts = [
    {
        id: 1,
        titulo: "Primer post",
        contenido: "Hola mundo!",
        fecha: "2025-07-19"
    },
    {
        id: 2,
        titulo: "Segundo post", 
        contenido: "Aprendiendo JSON",
        fecha: "2025-07-20"
    }
];

// Convertir a JSON y guardar
const jsonTexto = JSON.stringify(posts, null, 2);
fs.writeFileSync('posts.json', jsonTexto, 'utf8');

console.log('‚úÖ Archivo posts.json creado!');</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">2</span>
                    <div class="step-content">
                        <h4>Leer archivo JSON</h4>
                        <div class="code">// leer-datos.js
const fs = require('fs');

try {
    // Leer archivo como texto
    const jsonTexto = fs.readFileSync('posts.json', 'utf8');
    
    // Convertir de texto a objeto
    const posts = JSON.parse(jsonTexto);
    
    console.log('üìÑ Posts encontrados:', posts.length);
    posts.forEach(post => {
        console.log(`üìù ${post.id}: ${post.titulo}`);
    });
    
} catch (error) {
    console.log('‚ùå Error:', error.message);
}</div>
                    </div>
                </div>
                
                <div class="demo-step">
                    <span class="step-number">3</span>
                    <div class="step-content">
                        <h4>El archivo posts.json creado</h4>
                        <div class="code">[
  {
    "id": 1,
    "titulo": "Primer post",
    "contenido": "Hola mundo!",
    "fecha": "2025-07-19"
  },
  {
    "id": 2,
    "titulo": "Segundo post",
    "contenido": "Aprendiendo JSON",
    "fecha": "2025-07-20"
  }
]</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Ejercicio JSON -->
        <div class="slide practice-slide">
            <h2>üíª EJERCICIO: Tu primer archivo JSON</h2>
            
            <div class="exercise-container">
                <div class="exercise-header">
                    <span class="exercise-icon">‚è±Ô∏è</span>
                    <h3>10 minutos - Crear datos JSON para tu API</h3>
                </div>
                
                <div class="exercise-steps">
                    <div class="exercise-step">
                        <span class="step-num">1</span>
                        <div class="step-content">
                            <strong>Crear archivo: crear-datos.js</strong>
                            <div class="code">// Elige seg√∫n tu tipo de API:

// üìù BLOG
const posts = [
    { id: 1, titulo: "Mi primer post", contenido: "Hola mundo!", fecha: "2025-07-19" },
    { id: 2, titulo: "Aprendiendo Node.js", contenido: "JSON es incre√≠ble", fecha: "2025-07-20" }
];

// üçΩÔ∏è RESTAURANTE  
const menu = [
    { id: 1, nombre: "Pizza Margherita", precio: 1200, categoria: "principales" },
    { id: 2, nombre: "Ensalada C√©sar", precio: 800, categoria: "entradas" }
];

// üìö E-LEARNING
const cursos = [
    { id: 1, titulo: "Node.js B√°sico", instructor: "Ana", duracion: "4 semanas" },
    { id: 2, titulo: "React Avanzado", instructor: "Luis", duracion: "6 semanas" }
];

// üõçÔ∏è E-COMMERCE
const productos = [
    { id: 1, nombre: "Auriculares", precio: 5000, stock: 10, categoria: "tecnolog√≠a" },
    { id: 2, nombre: "Mouse", precio: 2500, stock: 25, categoria: "tecnolog√≠a" }
];</div>
                        </div>
                    </div>
                    
                    <div class="exercise-step">
                        <span class="step-num">2</span>
                        <div class="step-content">
                            <strong>Agregar c√≥digo para guardar</strong>
                            <div class="code">const fs = require('fs');

// Convertir a JSON y guardar
const jsonTexto = JSON.stringify(posts, null, 2); // o menu, cursos, productos
fs.writeFileSync('datos.json', jsonTexto, 'utf8');

console.log('‚úÖ Archivo datos.json creado!');</div>
                        </div>
                    </div>
                    
                    <div class="exercise-step">
                        <span class="step-num">3</span>
                        <div class="step-content">
                            <strong>Crear archivo: leer-datos.js</strong>
                            <div class="code">const fs = require('fs');

try {
    const jsonTexto = fs.readFileSync('datos.json', 'utf8');
    const datos = JSON.parse(jsonTexto);
    
    console.log('üìÑ Datos encontrados:', datos.length);
    datos.forEach(item => {
        console.log(`‚Ä¢ ${item.id}: ${item.titulo || item.nombre}`);
    });
} catch (error) {
    console.log('‚ùå Error:', error.message);
}</div>
                        </div>
                    </div>
                    
                    <div class="exercise-step">
                        <span class="step-num">4</span>
                        <div class="step-content">
                            <strong>Ejecutar y verificar</strong>
                            <div class="code">node crear-datos.js
node leer-datos.js

# Abrir datos.json en VS Code para ver el contenido</div>
                        </div>
                    </div>
                </div>
                
                <div class="success">
                    <strong>üéØ Objetivo:</strong> Crear archivo JSON con datos espec√≠ficos para tu tipo de API y despu√©s leerlos correctamente.
                </div>
            </div>
        </div>

        <!-- Slide 7: Resumen JSON -->
        <div class="slide summary-slide">
            <span class="emoji">üéØ</span>
            <h2>Resumen: JSON en Node.js</h2>
            
            <div class="concept-box">
                <h3>üîß Las 2 funciones principales de JSON:</h3>
                <div class="code">// 1. De texto JSON a objeto JavaScript
const objeto = JSON.parse(textoJSON);

// 2. De objeto JavaScript a texto JSON  
const textoJSON = JSON.stringify(objeto, null, 2);</div>
            </div>
            
            <div class="two-columns">
                <div>
                    <div class="success">
                        <strong>‚úÖ Ya puedes:</strong>
                        <ul>
                            <li>Convertir objetos a JSON con <code>JSON.stringify()</code></li>
                            <li>Convertir JSON a objetos con <code>JSON.parse()</code></li>
                            <li>Guardar datos en archivos JSON</li>
                            <li>Leer archivos JSON como datos</li>
                            <li>Trabajar con arrays de objetos</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <div class="success">
                        <strong>üöÄ En Clase 3 (Express):</strong>
                        <ul>
                            <li>Crear rutas que devuelvan JSON</li>
                            <li>Endpoints GET /posts, /menu, /cursos</li>
                            <li>Usar estos archivos como "base de datos"</li>
                            <li>APIs REST completas con JSON</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="console-tip">
                <strong>üéØ Pr√≥ximo paso:</strong> Aplicar todo lo aprendido (NPM + fs + JSON) a tu proyecto personal y preparar para Express.
            </div>
        </div>

    </div>

    <div class="slide-counter">
        <span id="current-slide">1</span> / <span id="total-slides">7</span>
    </div>

    <div class="navigation">
        <button class="nav-btn" onclick="previousSlide()">‚óÄ Anterior</button>
        <button class="nav-btn" onclick="nextSlide()">Siguiente ‚ñ∂</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const progressBar = document.getElementById('progress-bar');

        document.getElementById('total-slides').textContent = totalSlides;

        function updateProgress() {
            const progress = ((currentSlide + 1) / totalSlides) * 100;
            progressBar.style.width = progress + '%';
        }

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            document.getElementById('current-slide').textContent = currentSlide + 1;
            updateProgress();
        }

        function nextSlide() {
            showSlide(currentSlide + 1);
        }

        function previousSlide() {
            showSlide(currentSlide - 1);
        }

        // Navegaci√≥n con teclado
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousSlide();
            }
        });

        // Navegaci√≥n con click
        document.addEventListener('click', function(e) {
            if (e.target.closest('.nav-btn')) return;
            if (e.clientX > window.innerWidth / 2) {
                nextSlide();
            } else {
                previousSlide();
            }
        });

        // Touch/swipe para m√≥viles
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', function(e) {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', function(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) {
                nextSlide();
            }
            if (touchEndX > touchStartX + 50) {
                previousSlide();
            }
        }

        // Inicializar
        updateProgress();
    </script>
</body>
</html>